{"mappings":"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","sources":["<anon>","src/index.js"],"sourcesContent":["var $35da740d59af89ba$exports = {};\nasync function $35da740d59af89ba$var$getStudents() {\n    try {\n        return await fetch(\"http://localhost:3000/students\").then((reponse)=>reponse.json());\n    } catch (e) {\n        return e;\n    }\n}\nfunction $35da740d59af89ba$var$renderStudents(students) {\n    document.querySelector(\"tbody\").innerHTML = \"\";\n    students.forEach((student)=>{\n        const status = student.isEnrolled ? \"\\u0417\\u0430\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0439\" : \"\\u041D\\u0435 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0439\";\n        const skills = student.skills.map((skill)=>`<li>${skill}</li>`).join(\"\");\n        document.querySelector(\"tbody\").insertAdjacentHTML(\"beforeend\", `<tr id=\"id-${student.id}\">\n        <td>${student.id}</td>\n        <td>${student.name}</td>\n        <td>${student.age}</td>\n        <td>${student.course}</td>\n        <td>\n          <ul>${skills}</ul>\n        </td>\n        <td>${student.email}</td>\n        <td>${status}</td>\n        <td>\n          <button data-action=\"change\" class=\"change-btn\">\\u{417}\\u{43C}\\u{456}\\u{43D}\\u{438}\\u{442}\\u{438}</button>\n          <button data-action=\"delete\" class=\"delete-btn\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438}</button>\n        </td>\n      </tr>`);\n    });\n}\nasync function $35da740d59af89ba$var$addStudent(e) {\n    e.preventDefault();\n    const student = {\n        name: document.querySelector(\"#name\").value,\n        course: document.querySelector(\"#course\").value,\n        age: document.querySelector(\"#age\").value,\n        skills: document.querySelector(\"#skills\").value.split(\",\").map((skill)=>skill.trim()),\n        email: document.querySelector(\"#email\").value,\n        isEnrolled: document.querySelector(\"#isEnrolled\").hasAttribute(\"checked\")\n    };\n    document.querySelector(\"#name\").value = \"\";\n    document.querySelector(\"#course\").value = \"\";\n    document.querySelector(\"#age\").value = \"\";\n    document.querySelector(\"#skills\").value = \"\";\n    document.querySelector(\"#email\").value = \"\";\n    try {\n        await fetch(\"http://localhost:3000/students\", {\n            method: \"POST\",\n            body: JSON.stringify(student),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        });\n    } catch (e) {\n        return e;\n    }\n    await $35da740d59af89ba$var$getStudents().then((students)=>{\n        $35da740d59af89ba$var$renderStudents(students);\n    });\n}\ndocument.querySelector(\"#get-students-btn\").addEventListener(\"click\", async ()=>{\n    await $35da740d59af89ba$var$getStudents().then((students)=>{\n        $35da740d59af89ba$var$renderStudents(students);\n    });\n});\ndocument.querySelectorAll(`input[type=\"checkbox\"]`).forEach((item)=>{\n    item.addEventListener(\"click\", (e)=>{\n        e.currentTarget.toggleAttribute(\"checked\");\n    });\n});\ndocument.querySelector(\"#add-student-form\").addEventListener(\"submit\", $35da740d59af89ba$var$addStudent);\nlet $35da740d59af89ba$var$changedUserId = \"\";\ndocument.querySelector(\"tbody\").addEventListener(\"click\", async (e)=>{\n    if (e.target.classList.contains(\"change-btn\")) {\n        document.querySelector(\"#change\").classList.remove(\"is-hidden\");\n        document.querySelector(\"body\").classList.add(\"no-scroll\");\n        const studentId = e.target.parentElement.parentElement.firstElementChild.textContent;\n        await $35da740d59af89ba$var$getStudents().then((students)=>{\n            const student = students.find((student)=>student.id === studentId);\n            $35da740d59af89ba$var$changedUserId = student.id;\n            document.querySelector(\"#change-name\").value = student.name;\n            document.querySelector(\"#change-course\").value = student.course;\n            document.querySelector(\"#change-age\").value = student.age;\n            document.querySelector(\"#change-skills\").value = student.skills.join(\", \");\n            document.querySelector(\"#change-email\").value = student.email;\n            if (student.isEnrolled) document.querySelector(\"#change-isEnrolled\").setAttribute(\"checked\", \"true\");\n        });\n    }\n});\ndocument.querySelector(\"#change-form\").addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const student = {\n        id: $35da740d59af89ba$var$changedUserId,\n        name: document.querySelector(\"#change-name\").value,\n        course: document.querySelector(\"#change-course\").value,\n        age: document.querySelector(\"#change-age\").value,\n        skills: document.querySelector(\"#change-skills\").value.split(\",\").map((skill)=>skill.trim()),\n        email: document.querySelector(\"#change-email\").value,\n        isEnrolled: document.querySelector(\"#change-isEnrolled\").hasAttribute(\"checked\")\n    };\n    document.querySelector(\"#change\").classList.add(\"is-hidden\");\n    document.querySelector(\"body\").classList.remove(\"no-scroll\");\n    document.querySelector(\"#change-name\").value = \"\";\n    document.querySelector(\"#change-course\").value = \"\";\n    document.querySelector(\"#change-age\").value = \"\";\n    document.querySelector(\"#change-skills\").value = \"\";\n    document.querySelector(\"#change-email\").value = \"\";\n    try {\n        await fetch(`http://localhost:3000/students/${$35da740d59af89ba$var$changedUserId}`, {\n            method: \"PUT\",\n            body: JSON.stringify(student),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        });\n    } catch (e) {\n        return e;\n    }\n    await $35da740d59af89ba$var$getStudents().then((students)=>{\n        $35da740d59af89ba$var$renderStudents(students);\n    });\n});\ndocument.querySelector(\"tbody\").addEventListener(\"click\", async (e)=>{\n    if (e.target.classList.contains(\"delete-btn\")) {\n        const studentId = e.target.parentElement.parentElement.firstElementChild.textContent;\n        try {\n            await fetch(`http://localhost:3000/students/${studentId}`, {\n                method: \"DELETE\"\n            });\n        } catch (e) {\n            return e;\n        }\n        await $35da740d59af89ba$var$getStudents().then((students)=>{\n            $35da740d59af89ba$var$renderStudents(students);\n        });\n    }\n});\n\n\n//# sourceMappingURL=js-task-35.d972b8b8.js.map\n","async function getStudents() {\r\n  try {\r\n    return await fetch(\"http://localhost:3000/students\").then((reponse) =>\r\n      reponse.json()\r\n    );\r\n  } catch (e) {\r\n    return e;\r\n  }\r\n}\r\n\r\nfunction renderStudents(students) {\r\n  document.querySelector(\"tbody\").innerHTML = \"\";\r\n  students.forEach((student) => {\r\n    const status = student.isEnrolled ? \"Записаний\" : \"Не записаний\";\r\n    const skills = student.skills.map((skill) => `<li>${skill}</li>`).join(\"\");\r\n    document.querySelector(\"tbody\").insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `<tr id=\"id-${student.id}\">\r\n        <td>${student.id}</td>\r\n        <td>${student.name}</td>\r\n        <td>${student.age}</td>\r\n        <td>${student.course}</td>\r\n        <td>\r\n          <ul>${skills}</ul>\r\n        </td>\r\n        <td>${student.email}</td>\r\n        <td>${status}</td>\r\n        <td>\r\n          <button data-action=\"change\" class=\"change-btn\">Змінити</button>\r\n          <button data-action=\"delete\" class=\"delete-btn\">Видалити</button>\r\n        </td>\r\n      </tr>`\r\n    );\r\n  });\r\n}\r\n\r\nasync function addStudent(e) {\r\n  e.preventDefault();\r\n  const student = {\r\n    name: document.querySelector(\"#name\").value,\r\n    course: document.querySelector(\"#course\").value,\r\n    age: document.querySelector(\"#age\").value,\r\n    skills: document\r\n      .querySelector(\"#skills\")\r\n      .value.split(\",\")\r\n      .map((skill) => skill.trim()),\r\n    email: document.querySelector(\"#email\").value,\r\n    isEnrolled: document.querySelector(\"#isEnrolled\").hasAttribute(\"checked\"),\r\n  };\r\n  document.querySelector(\"#name\").value = \"\";\r\n  document.querySelector(\"#course\").value = \"\";\r\n  document.querySelector(\"#age\").value = \"\";\r\n  document.querySelector(\"#skills\").value = \"\";\r\n  document.querySelector(\"#email\").value = \"\";\r\n  try {\r\n    await fetch(\"http://localhost:3000/students\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(student),\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    });\r\n  } catch (e) {\r\n    return e;\r\n  }\r\n  await getStudents().then((students) => {\r\n    renderStudents(students);\r\n  });\r\n}\r\n\r\ndocument\r\n  .querySelector(\"#get-students-btn\")\r\n  .addEventListener(\"click\", async () => {\r\n    await getStudents().then((students) => {\r\n      renderStudents(students);\r\n    });\r\n  });\r\n\r\ndocument.querySelectorAll(`input[type=\"checkbox\"]`).forEach((item) => {\r\n  item.addEventListener(\"click\", (e) => {\r\n    e.currentTarget.toggleAttribute(\"checked\");\r\n  });\r\n});\r\n\r\ndocument\r\n  .querySelector(\"#add-student-form\")\r\n  .addEventListener(\"submit\", addStudent);\r\n\r\nlet changedUserId = \"\";\r\n\r\ndocument.querySelector(\"tbody\").addEventListener(\"click\", async (e) => {\r\n  if (e.target.classList.contains(\"change-btn\")) {\r\n    document.querySelector(\"#change\").classList.remove(\"is-hidden\");\r\n    document.querySelector(\"body\").classList.add(\"no-scroll\");\r\n    const studentId =\r\n      e.target.parentElement.parentElement.firstElementChild.textContent;\r\n    await getStudents().then((students) => {\r\n      const student = students.find((student) => student.id === studentId);\r\n      changedUserId = student.id;\r\n      document.querySelector(\"#change-name\").value = student.name;\r\n      document.querySelector(\"#change-course\").value = student.course;\r\n      document.querySelector(\"#change-age\").value = student.age;\r\n      document.querySelector(\"#change-skills\").value =\r\n        student.skills.join(\", \");\r\n      document.querySelector(\"#change-email\").value = student.email;\r\n      if (student.isEnrolled) {\r\n        document\r\n          .querySelector(\"#change-isEnrolled\")\r\n          .setAttribute(\"checked\", \"true\");\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\ndocument.querySelector(\"#change-form\").addEventListener(\"submit\", async (e) => {\r\n  e.preventDefault();\r\n  const student = {\r\n    id: changedUserId,\r\n    name: document.querySelector(\"#change-name\").value,\r\n    course: document.querySelector(\"#change-course\").value,\r\n    age: document.querySelector(\"#change-age\").value,\r\n    skills: document\r\n      .querySelector(\"#change-skills\")\r\n      .value.split(\",\")\r\n      .map((skill) => skill.trim()),\r\n    email: document.querySelector(\"#change-email\").value,\r\n    isEnrolled: document\r\n      .querySelector(\"#change-isEnrolled\")\r\n      .hasAttribute(\"checked\"),\r\n  };\r\n  document.querySelector(\"#change\").classList.add(\"is-hidden\");\r\n  document.querySelector(\"body\").classList.remove(\"no-scroll\");\r\n  document.querySelector(\"#change-name\").value = \"\";\r\n  document.querySelector(\"#change-course\").value = \"\";\r\n  document.querySelector(\"#change-age\").value = \"\";\r\n  document.querySelector(\"#change-skills\").value = \"\";\r\n  document.querySelector(\"#change-email\").value = \"\";\r\n  try {\r\n    await fetch(`http://localhost:3000/students/${changedUserId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(student),\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    });\r\n  } catch (e) {\r\n    return e;\r\n  }\r\n  await getStudents().then((students) => {\r\n    renderStudents(students);\r\n  });\r\n});\r\n\r\ndocument.querySelector(\"tbody\").addEventListener(\"click\", async (e) => {\r\n  if (e.target.classList.contains(\"delete-btn\")) {\r\n    const studentId =\r\n      e.target.parentElement.parentElement.firstElementChild.textContent;\r\n    try {\r\n      await fetch(`http://localhost:3000/students/${studentId}`, {\r\n        method: \"DELETE\",\r\n      });\r\n    } catch (e) {\r\n      return e;\r\n    }\r\n    await getStudents().then((students) => {\r\n      renderStudents(students);\r\n    });\r\n  }\r\n});\r\n"],"names":["$35da740d59af89ba$var$getStudents","fetch","then","reponse","json","e","$35da740d59af89ba$var$renderStudents","students","document","querySelector","innerHTML","forEach","student","status","isEnrolled","skills","map","skill","join","insertAdjacentHTML","id","name","age","course","email","$35da740d59af89ba$var$addStudent","preventDefault","value","split","trim","hasAttribute","method","body","JSON","stringify","headers","addEventListener","querySelectorAll","item","currentTarget","toggleAttribute","$35da740d59af89ba$var$changedUserId","target","classList","contains","remove","add","studentId","parentElement","firstElementChild","textContent","find","setAttribute"],"version":3,"file":"js-task-35.d972b8b8.js.map"}