function e(){return fetch("http://localhost:3000/students").then(e=>e.json())}function t(e){document.querySelector("tbody").innerHTML="",e.forEach(e=>{let t=e.isEnrolled?"Записаний":"Не записаний",n=e.skills.map(e=>`<li>${e}</li>`).join("");document.querySelector("tbody").insertAdjacentHTML("beforeend",`<tr id="id-${e.id}">
        <td>${e.id}</td>
        <td>${e.name}</td>
        <td>${e.age}</td>
        <td>${e.course}</td>
        <td>
          <ul>${n}</ul>
        </td>
        <td>${e.email}</td>
        <td>${t}</td>
        <td>
          <button data-action="change" class="change-btn">\u{417}\u{43C}\u{456}\u{43D}\u{438}\u{442}\u{438}</button>
          <button data-action="delete" class="delete-btn">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
        </td>
      </tr>`)})}document.querySelector("#get-students-btn").addEventListener("click",()=>{e().then(e=>{t(e)})}),document.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("click",e=>{e.currentTarget.toggleAttribute("checked")})}),document.querySelector("#add-student-form").addEventListener("submit",function(n){n.preventDefault();let l={name:document.querySelector("#name").value,course:document.querySelector("#course").value,age:document.querySelector("#age").value,skills:document.querySelector("#skills").value.split(",").map(e=>e.trim()),email:document.querySelector("#email").value,isEnrolled:document.querySelector("#isEnrolled").hasAttribute("checked")};document.querySelector("#name").value="",document.querySelector("#course").value="",document.querySelector("#age").value="",document.querySelector("#skills").value="",document.querySelector("#email").value="",fetch("http://localhost:3000/students",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json; charset=UTF-8"}}),setTimeout(()=>{e().then(e=>{t(e)})},100)});let n="";document.querySelector("tbody").addEventListener("click",t=>{if(t.target.classList.contains("change-btn")){document.querySelector("#change").classList.remove("is-hidden"),document.querySelector("body").classList.add("no-scroll");let l=t.target.parentElement.parentElement.firstElementChild.textContent;e().then(e=>{let t=e.find(e=>e.id===l);n=t.id,document.querySelector("#change-name").value=t.name,document.querySelector("#change-course").value=t.course,document.querySelector("#change-age").value=t.age,document.querySelector("#change-skills").value=t.skills.join(", "),document.querySelector("#change-email").value=t.email,t.isEnrolled&&document.querySelector("#change-isEnrolled").setAttribute("checked","true")})}}),document.querySelector("#change-form").addEventListener("submit",e=>{e.preventDefault();let t={id:n,name:document.querySelector("#change-name").value,course:document.querySelector("#change-course").value,age:document.querySelector("#change-age").value,skills:document.querySelector("#change-skills").value.split(",").map(e=>e.trim()),email:document.querySelector("#change-email").value,isEnrolled:document.querySelector("#change-isEnrolled").hasAttribute("checked")},l=document.querySelector(`#id-${n}`);l.children[1].textContent=document.querySelector("#change-name").value,l.children[2].textContent=document.querySelector("#change-age").value,l.children[3].textContent=document.querySelector("#change-course").value;let c=document.querySelector("#change-skills").value.split(",").map(e=>`<li>${e.trim()}</li>`).join("");l.children[4].firstElementChild.innerHTML=c,l.children[5].textContent=document.querySelector("#change-email").value,l.children[6].textContent=t.isEnrolled?"Записаний":"Не записаний",document.querySelector("#change").classList.add("is-hidden"),document.querySelector("body").classList.remove("no-scroll"),document.querySelector("#change-name").value="",document.querySelector("#change-course").value="",document.querySelector("#change-age").value="",document.querySelector("#change-skills").value="",document.querySelector("#change-email").value="",fetch(`http://localhost:3000/students/${n}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}})}),document.querySelector("tbody").addEventListener("click",e=>{if(e.target.classList.contains("delete-btn")){let t=e.target.parentElement.parentElement.firstElementChild.textContent;document.querySelector(`#id-${t}`).remove(),fetch(`http://localhost:3000/students/${t}`,{method:"DELETE"})}});
//# sourceMappingURL=js-task-35.7ba49ce5.js.map
