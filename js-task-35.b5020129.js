async function e(){try{return await fetch("https://680dfecfc47cb8074d91bfc4.mockapi.io/mini-project/students").then(e=>e.json())}catch(e){return e}}function t(e){document.querySelector("tbody").innerHTML="",e.forEach(e=>{let t=e.isEnrolled?"Записаний":"Не записаний",c=e.skills.map(e=>`<li>${e}</li>`).join("");document.querySelector("tbody").insertAdjacentHTML("beforeend",`<tr id="id-${e.id}">
        <td>${e.id}</td>
        <td>${e.name}</td>
        <td>${e.age}</td>
        <td>${e.course}</td>
        <td>
          <ul>${c}</ul>
        </td>
        <td>${e.email}</td>
        <td>${t}</td>
        <td>
          <button data-action="change" class="change-btn">\u{417}\u{43C}\u{456}\u{43D}\u{438}\u{442}\u{438}</button>
          <button data-action="delete" class="delete-btn">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
        </td>
      </tr>`)})}async function c(c){c.preventDefault();let n={name:document.querySelector("#name").value,course:document.querySelector("#course").value,age:document.querySelector("#age").value,skills:document.querySelector("#skills").value.split(",").map(e=>e.trim()),email:document.querySelector("#email").value,isEnrolled:document.querySelector("#isEnrolled").hasAttribute("checked")};document.querySelector("#name").value="",document.querySelector("#course").value="",document.querySelector("#age").value="",document.querySelector("#skills").value="",document.querySelector("#email").value="";try{await fetch("https://680dfecfc47cb8074d91bfc4.mockapi.io/mini-project/students",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json; charset=UTF-8"}})}catch(e){return e}await e().then(e=>{t(e)})}document.querySelector("#get-students-btn").addEventListener("click",async()=>{await e().then(e=>{console.log(e),t(e)})}),document.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("click",e=>{e.currentTarget.toggleAttribute("checked")})}),document.querySelector("#add-student-form").addEventListener("submit",c);let n="";document.querySelector("tbody").addEventListener("click",async t=>{if(t.target.classList.contains("change-btn")){document.querySelector("#change").classList.remove("is-hidden"),document.querySelector("body").classList.add("no-scroll");let c=t.target.parentElement.parentElement.firstElementChild.textContent;await e().then(e=>{let t=e.find(e=>e.id===c);n=t.id,document.querySelector("#change-name").value=t.name,document.querySelector("#change-course").value=t.course,document.querySelector("#change-age").value=t.age,document.querySelector("#change-skills").value=t.skills.join(", "),document.querySelector("#change-email").value=t.email,t.isEnrolled&&document.querySelector("#change-isEnrolled").setAttribute("checked","true")})}}),document.querySelector("#change-form").addEventListener("submit",async c=>{c.preventDefault();let r={id:n,name:document.querySelector("#change-name").value,course:document.querySelector("#change-course").value,age:document.querySelector("#change-age").value,skills:document.querySelector("#change-skills").value.split(",").map(e=>e.trim()),email:document.querySelector("#change-email").value,isEnrolled:document.querySelector("#change-isEnrolled").hasAttribute("checked")};document.querySelector("#change").classList.add("is-hidden"),document.querySelector("body").classList.remove("no-scroll"),document.querySelector("#change-name").value="",document.querySelector("#change-course").value="",document.querySelector("#change-age").value="",document.querySelector("#change-skills").value="",document.querySelector("#change-email").value="";try{await fetch(`https://680dfecfc47cb8074d91bfc4.mockapi.io/mini-project/students/${n}`,{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json; charset=UTF-8"}})}catch(e){return e}await e().then(e=>{t(e)})}),document.querySelector("tbody").addEventListener("click",async c=>{if(c.target.classList.contains("delete-btn")){let n=c.target.parentElement.parentElement.firstElementChild.textContent;try{await fetch(`https://680dfecfc47cb8074d91bfc4.mockapi.io/mini-project/students/${n}`,{method:"DELETE"})}catch(e){return e}await e().then(e=>{t(e)})}});
//# sourceMappingURL=js-task-35.b5020129.js.map
